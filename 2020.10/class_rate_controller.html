<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Aktualizr: RateController Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Aktualizr
   </div>
   <div id="projectbrief">C++ SOTA Client</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_rate_controller-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RateController Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Control the rate of outgoing requests.  
 <a href="class_rate_controller.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="rate__controller_8h_source.html">rate_controller.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aa3535fdbfd275de5baffb54336222b7b"><td class="memItemLeft" align="right" valign="top"><a id="aa3535fdbfd275de5baffb54336222b7b"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>clock</b> = std::chrono::steady_clock</td></tr>
<tr class="separator:aa3535fdbfd275de5baffb54336222b7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5fad6fdb953eee14e5219f0f74bc3515"><td class="memItemLeft" align="right" valign="top"><a id="a5fad6fdb953eee14e5219f0f74bc3515"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>RateController</b> (int concurrency_cap=30)</td></tr>
<tr class="separator:a5fad6fdb953eee14e5219f0f74bc3515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a855fd69b44515b5de509af389b132054"><td class="memItemLeft" align="right" valign="top"><a id="a855fd69b44515b5de509af389b132054"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>RateController</b> (const <a class="el" href="class_rate_controller.html">RateController</a> &amp;)=delete</td></tr>
<tr class="separator:a855fd69b44515b5de509af389b132054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a655de0b92ecec98a29f6a764840c39bd"><td class="memItemLeft" align="right" valign="top"><a id="a655de0b92ecec98a29f6a764840c39bd"></a>
<a class="el" href="class_rate_controller.html">RateController</a>&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="class_rate_controller.html">RateController</a> &amp;)=delete</td></tr>
<tr class="separator:a655de0b92ecec98a29f6a764840c39bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64186c9b60de81228efa4eadb76cfe3c"><td class="memItemLeft" align="right" valign="top"><a id="a64186c9b60de81228efa4eadb76cfe3c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>RequestCompleted</b> (clock::time_point start_time, clock::time_point end_time, bool succeeded)</td></tr>
<tr class="separator:a64186c9b60de81228efa4eadb76cfe3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41317273c6660327ebdc2fbe9d3f71fe"><td class="memItemLeft" align="right" valign="top"><a id="a41317273c6660327ebdc2fbe9d3f71fe"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>MaxConcurrency</b> () const</td></tr>
<tr class="separator:a41317273c6660327ebdc2fbe9d3f71fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ef62234d2380b3290d3db912927739"><td class="memItemLeft" align="right" valign="top"><a id="ac4ef62234d2380b3290d3db912927739"></a>
clock::duration&#160;</td><td class="memItemRight" valign="bottom"><b>GetSleepTime</b> () const</td></tr>
<tr class="separator:ac4ef62234d2380b3290d3db912927739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace9bbdaa2acb967a871964368bd4faa5"><td class="memItemLeft" align="right" valign="top"><a id="ace9bbdaa2acb967a871964368bd4faa5"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>ServerHasFailed</b> () const</td></tr>
<tr class="separator:ace9bbdaa2acb967a871964368bd4faa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Control the rate of outgoing requests. </p>
<p>This receives signals from the network layer when a request finishes of the form (start time, end time, success). It generates controls for the network layer in the form of: MaxConcurrency - The current estimate of the number of parallel requests that can be opened Sleep() - The number of seconds to sleep before sending the next request. 0.0 if MaxConcurrency is &gt; 1 Failed() - A boolean indicating that the server is broken, and to report an error up to the user. The congestion control is loosely based on the original TCP AIMD scheme. Better performance might be available by Stealing ideas from the later TCP conjection control algorithms </p>

<p class="definition">Definition at line <a class="el" href="rate__controller_8h_source.html#l00016">16</a> of file <a class="el" href="rate__controller_8h_source.html">rate_controller.h</a>.</p>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li>src/sota_tools/<a class="el" href="rate__controller_8h_source.html">rate_controller.h</a></li>
<li>src/sota_tools/<a class="el" href="rate__controller_8cc_source.html">rate_controller.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
