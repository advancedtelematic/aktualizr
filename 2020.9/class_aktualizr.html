<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Aktualizr: Aktualizr Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Aktualizr
   </div>
   <div id="projectbrief">C++ SOTA Client</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_aktualizr-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Aktualizr Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class provides the main APIs necessary for launching and controlling libaktualizr.  
 <a href="class_aktualizr.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="aktualizr_8h_source.html">aktualizr.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Aktualizr:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_aktualizr__inherit__graph.svg" width="258" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Aktualizr:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_aktualizr__coll__graph.svg" width="339" height="231"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_aktualizr_1_1_installation_log_entry.html">InstallationLogEntry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a20bb6304e560ae7731e8e93ba3c5c8db"><td class="memItemLeft" align="right" valign="top"><a id="a20bb6304e560ae7731e8e93ba3c5c8db"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>InstallationLog</b> = std::vector&lt; <a class="el" href="struct_aktualizr_1_1_installation_log_entry.html">InstallationLogEntry</a> &gt;</td></tr>
<tr class="separator:a20bb6304e560ae7731e8e93ba3c5c8db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef9464d4e2cff055b874777d6244c0d7"><td class="memItemLeft" align="right" valign="top"><a id="aef9464d4e2cff055b874777d6244c0d7"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>SigHandler</b> = std::function&lt; void(std::shared_ptr&lt; <a class="el" href="classevent_1_1_base_event.html">event::BaseEvent</a> &gt;)&gt;</td></tr>
<tr class="separator:aef9464d4e2cff055b874777d6244c0d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a93abba22592bf27fe97b7e0d10ca0155"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#a93abba22592bf27fe97b7e0d10ca0155">Aktualizr</a> (const <a class="el" href="class_config.html">Config</a> &amp;config)</td></tr>
<tr class="memdesc:a93abba22592bf27fe97b7e0d10ca0155"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_aktualizr.html" title="This class provides the main APIs necessary for launching and controlling libaktualizr.">Aktualizr</a> requires a configuration object.  <a href="class_aktualizr.html#a93abba22592bf27fe97b7e0d10ca0155">More...</a><br /></td></tr>
<tr class="separator:a93abba22592bf27fe97b7e0d10ca0155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a774a1030882888af7c895c175ce9b509"><td class="memItemLeft" align="right" valign="top"><a id="a774a1030882888af7c895c175ce9b509"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Aktualizr</b> (const <a class="el" href="class_aktualizr.html">Aktualizr</a> &amp;)=delete</td></tr>
<tr class="separator:a774a1030882888af7c895c175ce9b509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14ce79a4aee5fc5dab589dd475201b3b"><td class="memItemLeft" align="right" valign="top"><a id="a14ce79a4aee5fc5dab589dd475201b3b"></a>
<a class="el" href="class_aktualizr.html">Aktualizr</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="class_aktualizr.html">Aktualizr</a> &amp;)=delete</td></tr>
<tr class="separator:a14ce79a4aee5fc5dab589dd475201b3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b21e74b235a298edb0aa7950a50d804"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#a5b21e74b235a298edb0aa7950a50d804">Initialize</a> ()</td></tr>
<tr class="memdesc:a5b21e74b235a298edb0aa7950a50d804"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize aktualizr.  <a href="class_aktualizr.html#a5b21e74b235a298edb0aa7950a50d804">More...</a><br /></td></tr>
<tr class="separator:a5b21e74b235a298edb0aa7950a50d804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbc8798c27aa03b6c474c711d398fe33"><td class="memItemLeft" align="right" valign="top">std::future&lt; void &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#abbc8798c27aa03b6c474c711d398fe33">RunForever</a> (const Json::Value &amp;custom_hwinfo=Json::nullValue)</td></tr>
<tr class="memdesc:abbc8798c27aa03b6c474c711d398fe33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronously run aktualizr indefinitely until Shutdown is called.  <a href="class_aktualizr.html#abbc8798c27aa03b6c474c711d398fe33">More...</a><br /></td></tr>
<tr class="separator:abbc8798c27aa03b6c474c711d398fe33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab244f4c923e07387022f21e97aa3c080"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#ab244f4c923e07387022f21e97aa3c080">Shutdown</a> ()</td></tr>
<tr class="memdesc:ab244f4c923e07387022f21e97aa3c080"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shuts down currently running <code><a class="el" href="class_aktualizr.html#abbc8798c27aa03b6c474c711d398fe33" title="Asynchronously run aktualizr indefinitely until Shutdown is called.">RunForever()</a></code> method.  <a href="class_aktualizr.html#ab244f4c923e07387022f21e97aa3c080">More...</a><br /></td></tr>
<tr class="separator:ab244f4c923e07387022f21e97aa3c080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf5a5fd987a9c24514b98a16bc19466f"><td class="memItemLeft" align="right" valign="top">std::future&lt; <a class="el" href="classresult_1_1_campaign_check.html">result::CampaignCheck</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#aaf5a5fd987a9c24514b98a16bc19466f">CampaignCheck</a> ()</td></tr>
<tr class="memdesc:aaf5a5fd987a9c24514b98a16bc19466f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for campaigns.  <a href="class_aktualizr.html#aaf5a5fd987a9c24514b98a16bc19466f">More...</a><br /></td></tr>
<tr class="separator:aaf5a5fd987a9c24514b98a16bc19466f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73d44f4f2c7236a4779de927ae66f0e6"><td class="memItemLeft" align="right" valign="top">std::future&lt; void &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#a73d44f4f2c7236a4779de927ae66f0e6">CampaignControl</a> (const std::string &amp;campaign_id, campaign::Cmd cmd)</td></tr>
<tr class="memdesc:a73d44f4f2c7236a4779de927ae66f0e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Act on campaign: accept, decline or postpone.  <a href="class_aktualizr.html#a73d44f4f2c7236a4779de927ae66f0e6">More...</a><br /></td></tr>
<tr class="separator:a73d44f4f2c7236a4779de927ae66f0e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab65d988c6d69e4c28e24c36ab07f2ad6"><td class="memItemLeft" align="right" valign="top">std::future&lt; void &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#ab65d988c6d69e4c28e24c36ab07f2ad6">SendDeviceData</a> (const Json::Value &amp;custom_hwinfo=Json::nullValue)</td></tr>
<tr class="memdesc:ab65d988c6d69e4c28e24c36ab07f2ad6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send local device data to the server.  <a href="class_aktualizr.html#ab65d988c6d69e4c28e24c36ab07f2ad6">More...</a><br /></td></tr>
<tr class="separator:ab65d988c6d69e4c28e24c36ab07f2ad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf876d93967a1dc30a362f5482693405"><td class="memItemLeft" align="right" valign="top">std::future&lt; <a class="el" href="classresult_1_1_update_check.html">result::UpdateCheck</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#adf876d93967a1dc30a362f5482693405">CheckUpdates</a> ()</td></tr>
<tr class="memdesc:adf876d93967a1dc30a362f5482693405"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch <a class="el" href="namespace_uptane.html" title="Base data types that are used in The Update Framework (TUF), part of Uptane.">Uptane</a> metadata and check for updates.  <a href="class_aktualizr.html#adf876d93967a1dc30a362f5482693405">More...</a><br /></td></tr>
<tr class="separator:adf876d93967a1dc30a362f5482693405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc53674dc24f676e72526ac270c91cdb"><td class="memItemLeft" align="right" valign="top">std::future&lt; <a class="el" href="classresult_1_1_download.html">result::Download</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#acc53674dc24f676e72526ac270c91cdb">Download</a> (const std::vector&lt; <a class="el" href="class_uptane_1_1_target.html">Uptane::Target</a> &gt; &amp;updates)</td></tr>
<tr class="memdesc:acc53674dc24f676e72526ac270c91cdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Download targets.  <a href="class_aktualizr.html#acc53674dc24f676e72526ac270c91cdb">More...</a><br /></td></tr>
<tr class="separator:acc53674dc24f676e72526ac270c91cdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4be738120b8e575a4ec1d3d5996dbb0"><td class="memItemLeft" align="right" valign="top">InstallationLog&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#ab4be738120b8e575a4ec1d3d5996dbb0">GetInstallationLog</a> ()</td></tr>
<tr class="memdesc:ab4be738120b8e575a4ec1d3d5996dbb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get log of installations.  <a href="class_aktualizr.html#ab4be738120b8e575a4ec1d3d5996dbb0">More...</a><br /></td></tr>
<tr class="separator:ab4be738120b8e575a4ec1d3d5996dbb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac14e25cc1e244573f98bc75c513cfe58"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_uptane_1_1_target.html">Uptane::Target</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#ac14e25cc1e244573f98bc75c513cfe58">GetStoredTargets</a> ()</td></tr>
<tr class="memdesc:ac14e25cc1e244573f98bc75c513cfe58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get list of targets currently in storage.  <a href="class_aktualizr.html#ac14e25cc1e244573f98bc75c513cfe58">More...</a><br /></td></tr>
<tr class="separator:ac14e25cc1e244573f98bc75c513cfe58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83345a22980888e720df8fc03383a146"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#a83345a22980888e720df8fc03383a146">DeleteStoredTarget</a> (const <a class="el" href="class_uptane_1_1_target.html">Uptane::Target</a> &amp;target)</td></tr>
<tr class="memdesc:a83345a22980888e720df8fc03383a146"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a stored target from storage.  <a href="class_aktualizr.html#a83345a22980888e720df8fc03383a146">More...</a><br /></td></tr>
<tr class="separator:a83345a22980888e720df8fc03383a146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdc7efc03bf76bd831b4427aa84d45ca"><td class="memItemLeft" align="right" valign="top">std::ifstream&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#afdc7efc03bf76bd831b4427aa84d45ca">OpenStoredTarget</a> (const <a class="el" href="class_uptane_1_1_target.html">Uptane::Target</a> &amp;target)</td></tr>
<tr class="memdesc:afdc7efc03bf76bd831b4427aa84d45ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get target downloaded in Download call.  <a href="class_aktualizr.html#afdc7efc03bf76bd831b4427aa84d45ca">More...</a><br /></td></tr>
<tr class="separator:afdc7efc03bf76bd831b4427aa84d45ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bad025e8c846f7e46949141c6097c67"><td class="memItemLeft" align="right" valign="top">std::future&lt; <a class="el" href="classresult_1_1_install.html">result::Install</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#a3bad025e8c846f7e46949141c6097c67">Install</a> (const std::vector&lt; <a class="el" href="class_uptane_1_1_target.html">Uptane::Target</a> &gt; &amp;updates)</td></tr>
<tr class="memdesc:a3bad025e8c846f7e46949141c6097c67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Install targets.  <a href="class_aktualizr.html#a3bad025e8c846f7e46949141c6097c67">More...</a><br /></td></tr>
<tr class="separator:a3bad025e8c846f7e46949141c6097c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52f213f16bc7526be40498772c320024"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#a52f213f16bc7526be40498772c320024">SetInstallationRawReport</a> (const std::string &amp;custom_raw_report)</td></tr>
<tr class="memdesc:a52f213f16bc7526be40498772c320024"><td class="mdescLeft">&#160;</td><td class="mdescRight">SetInstallationRawReport allows setting a custom raw report field in the device installation result.  <a href="class_aktualizr.html#a52f213f16bc7526be40498772c320024">More...</a><br /></td></tr>
<tr class="separator:a52f213f16bc7526be40498772c320024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8dc8bd2e77fc70241f137e000a52625"><td class="memItemLeft" align="right" valign="top">std::future&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#ac8dc8bd2e77fc70241f137e000a52625">SendManifest</a> (const Json::Value &amp;custom=Json::nullValue)</td></tr>
<tr class="memdesc:ac8dc8bd2e77fc70241f137e000a52625"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send installation report to the backend.  <a href="class_aktualizr.html#ac8dc8bd2e77fc70241f137e000a52625">More...</a><br /></td></tr>
<tr class="separator:ac8dc8bd2e77fc70241f137e000a52625"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a600d9c081a25142f25178430870b09c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classresult_1_1_pause.html">result::Pause</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#a600d9c081a25142f25178430870b09c9">Pause</a> ()</td></tr>
<tr class="memdesc:a600d9c081a25142f25178430870b09c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause the library operations.  <a href="class_aktualizr.html#a600d9c081a25142f25178430870b09c9">More...</a><br /></td></tr>
<tr class="separator:a600d9c081a25142f25178430870b09c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36fe7a08970e37f855698735a36ef33d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classresult_1_1_pause.html">result::Pause</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#a36fe7a08970e37f855698735a36ef33d">Resume</a> ()</td></tr>
<tr class="memdesc:a36fe7a08970e37f855698735a36ef33d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume the library operations.  <a href="class_aktualizr.html#a36fe7a08970e37f855698735a36ef33d">More...</a><br /></td></tr>
<tr class="separator:a36fe7a08970e37f855698735a36ef33d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29efa69f4904b62353b2268e1a2d8e85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#a29efa69f4904b62353b2268e1a2d8e85">Abort</a> ()</td></tr>
<tr class="memdesc:a29efa69f4904b62353b2268e1a2d8e85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aborts the currently running command, if it can be aborted, or waits for it to finish; then removes all other queued calls.  <a href="class_aktualizr.html#a29efa69f4904b62353b2268e1a2d8e85">More...</a><br /></td></tr>
<tr class="separator:a29efa69f4904b62353b2268e1a2d8e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77aa070899448a7589c5e66befc41d6a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#a77aa070899448a7589c5e66befc41d6a">UptaneCycle</a> ()</td></tr>
<tr class="memdesc:a77aa070899448a7589c5e66befc41d6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronously run an <a class="el" href="namespace_uptane.html" title="Base data types that are used in The Update Framework (TUF), part of Uptane.">Uptane</a> cycle: check for updates, download any new targets, install them, and send a manifest back to the server.  <a href="class_aktualizr.html#a77aa070899448a7589c5e66befc41d6a">More...</a><br /></td></tr>
<tr class="separator:a77aa070899448a7589c5e66befc41d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9775e269ef2c773f3689810c3f3ac35"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#af9775e269ef2c773f3689810c3f3ac35">AddSecondary</a> (const std::shared_ptr&lt; <a class="el" href="class_secondary_interface.html">SecondaryInterface</a> &gt; &amp;secondary)</td></tr>
<tr class="memdesc:af9775e269ef2c773f3689810c3f3ac35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add new Secondary to aktualizr.  <a href="class_aktualizr.html#af9775e269ef2c773f3689810c3f3ac35">More...</a><br /></td></tr>
<tr class="separator:af9775e269ef2c773f3689810c3f3ac35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22e051b83a4d0dc2ac9b8e0cf730aca6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#a22e051b83a4d0dc2ac9b8e0cf730aca6">SetSecondaryData</a> (const <a class="el" href="class_uptane_1_1_ecu_serial.html">Uptane::EcuSerial</a> &amp;ecu, const std::string &amp;data)</td></tr>
<tr class="memdesc:a22e051b83a4d0dc2ac9b8e0cf730aca6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store some free-form data to be associated with a particular Secondary, to be retrieved later through <code>GetSecondaries</code>  <a href="class_aktualizr.html#a22e051b83a4d0dc2ac9b8e0cf730aca6">More...</a><br /></td></tr>
<tr class="separator:a22e051b83a4d0dc2ac9b8e0cf730aca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2345cd9f8fb9d6bb85d5af6770eaa21b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="struct_secondary_info.html">SecondaryInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#a2345cd9f8fb9d6bb85d5af6770eaa21b">GetSecondaries</a> () const</td></tr>
<tr class="memdesc:a2345cd9f8fb9d6bb85d5af6770eaa21b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of the registered Secondaries, along with some associated metadata.  <a href="class_aktualizr.html#a2345cd9f8fb9d6bb85d5af6770eaa21b">More...</a><br /></td></tr>
<tr class="separator:a2345cd9f8fb9d6bb85d5af6770eaa21b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae710e3876c6144a4efe1a5500958987e"><td class="memItemLeft" align="right" valign="top">boost::signals2::connection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_aktualizr.html#ae710e3876c6144a4efe1a5500958987e">SetSignalHandler</a> (const <a class="el" href="class_sig_handler.html">SigHandler</a> &amp;handler)</td></tr>
<tr class="memdesc:ae710e3876c6144a4efe1a5500958987e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide a function to receive event notifications.  <a href="class_aktualizr.html#ae710e3876c6144a4efe1a5500958987e">More...</a><br /></td></tr>
<tr class="separator:ae710e3876c6144a4efe1a5500958987e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a3753899ef77aa146cd694a28cd97b498"><td class="memItemLeft" align="right" valign="top"><a id="a3753899ef77aa146cd694a28cd97b498"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Aktualizr</b> (<a class="el" href="class_config.html">Config</a> config, std::shared_ptr&lt; <a class="el" href="class_i_nv_storage.html">INvStorage</a> &gt; storage_in, const std::shared_ptr&lt; <a class="el" href="class_http_interface.html">HttpInterface</a> &gt; &amp;http_in)</td></tr>
<tr class="separator:a3753899ef77aa146cd694a28cd97b498"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ae33531ccb386c60ba17a8a20dae6e4c9"><td class="memItemLeft" align="right" valign="top"><a id="ae33531ccb386c60ba17a8a20dae6e4c9"></a>
std::shared_ptr&lt; <a class="el" href="class_sota_uptane_client.html">SotaUptaneClient</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>uptane_client_</b></td></tr>
<tr class="separator:ae33531ccb386c60ba17a8a20dae6e4c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class provides the main APIs necessary for launching and controlling libaktualizr. </p>

<p class="definition">Definition at line <a class="el" href="aktualizr_8h_source.html#l00024">24</a> of file <a class="el" href="aktualizr_8h_source.html">aktualizr.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a93abba22592bf27fe97b7e0d10ca0155"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93abba22592bf27fe97b7e0d10ca0155">&#9670;&nbsp;</a></span>Aktualizr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Aktualizr::Aktualizr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_config.html">Config</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="class_aktualizr.html" title="This class provides the main APIs necessary for launching and controlling libaktualizr.">Aktualizr</a> requires a configuration object. </p>
<p>Examples can be found in the config directory.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_s_q_l_exception.html">SQLException</a></td><td></td></tr>
    <tr><td class="paramname">boost::filesystem::filesystem_error</td><td></td></tr>
    <tr><td class="paramname">std::bad_alloc</td><td></td></tr>
    <tr><td class="paramname">std::runtime_error</td><td>(filesystem and json parsing failures; libsodium initialization failure) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00015">15</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a29efa69f4904b62353b2268e1a2d8e85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29efa69f4904b62353b2268e1a2d8e85">&#9670;&nbsp;</a></span>Abort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Aktualizr::Abort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Aborts the currently running command, if it can be aborted, or waits for it to finish; then removes all other queued calls. </p>
<p>This doesn't reset the <code>Paused</code> state, i.e. if the queue was previously paused, it will remain paused, but with an emptied queue. The call is blocking.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::system_error</td><td>(failure to lock a mutex) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00190">190</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="af9775e269ef2c773f3689810c3f3ac35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9775e269ef2c773f3689810c3f3ac35">&#9670;&nbsp;</a></span>AddSecondary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Aktualizr::AddSecondary </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="class_secondary_interface.html">SecondaryInterface</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>secondary</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add new Secondary to aktualizr. </p>
<p>Must be called before Initialize. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">secondary</td><td>An object to perform installation on a Secondary ECU.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::bad_alloc</td><td>(memory allocation failure) </td></tr>
    <tr><td class="paramname">std::runtime_error</td><td>(multiple Secondaries with the same serial) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00103">103</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="aaf5a5fd987a9c24514b98a16bc19466f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf5a5fd987a9c24514b98a16bc19466f">&#9670;&nbsp;</a></span>CampaignCheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::future&lt; <a class="el" href="classresult_1_1_campaign_check.html">result::CampaignCheck</a> &gt; Aktualizr::CampaignCheck </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check for campaigns. </p>
<p>Campaigns are a concept outside of <a class="el" href="namespace_uptane.html" title="Base data types that are used in The Update Framework (TUF), part of Uptane.">Uptane</a>, and allow for user approval of updates before the contents of the update are known. </p><dl class="section return"><dt>Returns</dt><dd>std::future object with data about available campaigns.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>(curl and json parsing failures) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00118">118</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="a73d44f4f2c7236a4779de927ae66f0e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73d44f4f2c7236a4779de927ae66f0e6">&#9670;&nbsp;</a></span>CampaignControl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::future&lt; void &gt; Aktualizr::CampaignControl </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>campaign_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">campaign::Cmd&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Act on campaign: accept, decline or postpone. </p>
<p>Accepted campaign will be removed from the campaign list but no guarantee is made for declined or postponed items. Applications are responsible for tracking their state but this method will notify the server for device state monitoring purposes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">campaign_id</td><td>Campaign ID as provided by CampaignCheck. </td></tr>
    <tr><td class="paramname">cmd</td><td>action to apply on the campaign: accept, decline or postpone </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Empty std::future object</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::bad_alloc</td><td>(memory allocation failure) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00123">123</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="adf876d93967a1dc30a362f5482693405"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf876d93967a1dc30a362f5482693405">&#9670;&nbsp;</a></span>CheckUpdates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::future&lt; <a class="el" href="classresult_1_1_update_check.html">result::UpdateCheck</a> &gt; Aktualizr::CheckUpdates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch <a class="el" href="namespace_uptane.html" title="Base data types that are used in The Update Framework (TUF), part of Uptane.">Uptane</a> metadata and check for updates. </p>
<p>This collects a client manifest, PUTs it to the director, updates the <a class="el" href="namespace_uptane.html" title="Base data types that are used in The Update Framework (TUF), part of Uptane.">Uptane</a> metadata (including root and targets), and then checks the metadata for target updates. </p><dl class="section return"><dt>Returns</dt><dd>Information about available updates.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_s_q_l_exception.html">SQLException</a></td><td></td></tr>
    <tr><td class="paramname">boost::filesystem::filesystem_error</td><td></td></tr>
    <tr><td class="paramname">std::bad_alloc</td><td></td></tr>
    <tr><td class="paramname">std::runtime_error</td><td>(curl, SQL, filesystem, and json parsing failures; database inconsistency with pending updates) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00147">147</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="a83345a22980888e720df8fc03383a146"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83345a22980888e720df8fc03383a146">&#9670;&nbsp;</a></span>DeleteStoredTarget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Aktualizr::DeleteStoredTarget </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_uptane_1_1_target.html">Uptane::Target</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a stored target from storage. </p>
<p>This only affects storage of the actual binary data and does not preclude a re-download if a target matches current metadata. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>Target object matching the desired target in the storage </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if successful</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_s_q_l_exception.html">SQLException</a></td><td></td></tr>
    <tr><td class="paramname">std::runtime_error</td><td>(error getting targets from database or filesystem) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00221">221</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="acc53674dc24f676e72526ac270c91cdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc53674dc24f676e72526ac270c91cdb">&#9670;&nbsp;</a></span>Download()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::future&lt; <a class="el" href="classresult_1_1_download.html">result::Download</a> &gt; Aktualizr::Download </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_uptane_1_1_target.html">Uptane::Target</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>updates</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Download targets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">updates</td><td>Vector of targets to download as provided by CheckUpdates. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::future object with information about download results.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_s_q_l_exception.html">SQLException</a></td><td></td></tr>
    <tr><td class="paramname">std::system_error</td><td>(failure to lock a mutex) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00152">152</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="ab4be738120b8e575a4ec1d3d5996dbb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4be738120b8e575a4ec1d3d5996dbb0">&#9670;&nbsp;</a></span>GetInstallationLog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Aktualizr::InstallationLog Aktualizr::GetInstallationLog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get log of installations. </p>
<p>The log is indexed for every ECU and contains every change of versions ordered by time. It may contain duplicates in case of rollbacks. </p><dl class="section return"><dt>Returns</dt><dd>installation log</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_s_q_l_exception.html">SQLException</a></td><td></td></tr>
    <tr><td class="paramname">std::bad_alloc</td><td>(memory allocation failure) </td></tr>
    <tr><td class="paramname">std::runtime_error</td><td>(failure to load ECU serials) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00197">197</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="a2345cd9f8fb9d6bb85d5af6770eaa21b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2345cd9f8fb9d6bb85d5af6770eaa21b">&#9670;&nbsp;</a></span>GetSecondaries()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="struct_secondary_info.html">SecondaryInfo</a> &gt; Aktualizr::GetSecondaries </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a list of the registered Secondaries, along with some associated metadata. </p>
<dl class="section return"><dt>Returns</dt><dd>vector of <a class="el" href="struct_secondary_info.html">SecondaryInfo</a> objects</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_s_q_l_exception.html">SQLException</a></td><td></td></tr>
    <tr><td class="paramname">std::bad_alloc</td><td>(memory allocation failure) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00111">111</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="ac14e25cc1e244573f98bc75c513cfe58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac14e25cc1e244573f98bc75c513cfe58">&#9670;&nbsp;</a></span>GetStoredTargets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="class_uptane_1_1_target.html">Uptane::Target</a> &gt; Aktualizr::GetStoredTargets </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get list of targets currently in storage. </p>
<p>This is intended to be used with DeleteStoredTarget and targets are not guaranteed to be verified and up-to-date with current metadata. </p><dl class="section return"><dt>Returns</dt><dd>std::vector of target objects</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_s_q_l_exception.html">SQLException</a></td><td></td></tr>
    <tr><td class="paramname">std::bad_alloc</td><td>(memory allocation failure) </td></tr>
    <tr><td class="paramname">std::runtime_error</td><td>(error getting targets from database) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00219">219</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="a5b21e74b235a298edb0aa7950a50d804"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b21e74b235a298edb0aa7950a50d804">&#9670;&nbsp;</a></span>Initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Aktualizr::Initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize aktualizr. </p>
<p>Any Secondaries should be added before making this call. This will provision with the server if required. This must be called before using any other aktualizr functions except AddSecondary.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_initializer_1_1_error.html">Initializer::Error</a></td><td>and subclasses </td></tr>
    <tr><td class="paramname"><a class="el" href="class_uptane_1_1_exception.html">Uptane::Exception</a></td><td>and subclasses </td></tr>
    <tr><td class="paramname"><a class="el" href="class_s_q_l_exception.html">SQLException</a></td><td></td></tr>
    <tr><td class="paramname">boost::filesystem::filesystem_error</td><td></td></tr>
    <tr><td class="paramname">std::system_error</td><td>(failure to lock a mutex) </td></tr>
    <tr><td class="paramname">std::bad_alloc</td><td>(memory allocation failure) </td></tr>
    <tr><td class="paramname">std::runtime_error</td><td>(curl, P11, SQL, filesystem, credentials archive parsing, certificate parsing, json parsing failures; missing ECU serials or device ID; database inconsistency with pending updates; invalid OSTree deployment) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00033">33</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="a3bad025e8c846f7e46949141c6097c67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bad025e8c846f7e46949141c6097c67">&#9670;&nbsp;</a></span>Install()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::future&lt; <a class="el" href="classresult_1_1_install.html">result::Install</a> &gt; Aktualizr::Install </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_uptane_1_1_target.html">Uptane::Target</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>updates</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Install targets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">updates</td><td>Vector of targets to install as provided by CheckUpdates or Download. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::future object with information about installation results.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_s_q_l_exception.html">SQLException</a></td><td></td></tr>
    <tr><td class="paramname">std::runtime_error</td><td>(error getting metadata from database or filesystem) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00158">158</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="afdc7efc03bf76bd831b4427aa84d45ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdc7efc03bf76bd831b4427aa84d45ca">&#9670;&nbsp;</a></span>OpenStoredTarget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ifstream Aktualizr::OpenStoredTarget </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_uptane_1_1_target.html">Uptane::Target</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get target downloaded in Download call. </p>
<p>Returned target is guaranteed to be verified and up-to-date according to the <a class="el" href="namespace_uptane.html" title="Base data types that are used in The Update Framework (TUF), part of Uptane.">Uptane</a> metadata downloaded in CheckUpdates call. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>Target object matching the desired target in the storage. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Handle to the stored binary. nullptr if none is found.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_s_q_l_exception.html">SQLException</a></td><td></td></tr>
    <tr><td class="paramname">std::runtime_error</td><td>(error getting targets from database or filesystem) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00223">223</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="a600d9c081a25142f25178430870b09c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a600d9c081a25142f25178430870b09c9">&#9670;&nbsp;</a></span>Pause()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classresult_1_1_pause.html">result::Pause</a> Aktualizr::Pause </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pause the library operations. </p>
<p>In progress target downloads will be paused and API calls will be deferred.</p>
<dl class="section return"><dt>Returns</dt><dd>Information about pause results.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::system_error</td><td>(failure to lock a mutex) </td></tr>
    <tr><td class="paramname">std::bad_alloc</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00172">172</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="a36fe7a08970e37f855698735a36ef33d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36fe7a08970e37f855698735a36ef33d">&#9670;&nbsp;</a></span>Resume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classresult_1_1_pause.html">result::Pause</a> Aktualizr::Resume </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resume the library operations. </p>
<p>Target downloads will resume and API calls issued during the pause will execute in fifo order.</p>
<dl class="section return"><dt>Returns</dt><dd>Information about resume results.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::system_error</td><td>(failure to lock a mutex) </td></tr>
    <tr><td class="paramname">std::bad_alloc</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00181">181</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="abbc8798c27aa03b6c474c711d398fe33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbc8798c27aa03b6c474c711d398fe33">&#9670;&nbsp;</a></span>RunForever()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::future&lt; void &gt; Aktualizr::RunForever </td>
          <td>(</td>
          <td class="paramtype">const Json::Value &amp;&#160;</td>
          <td class="paramname"><em>custom_hwinfo</em> = <code>Json::nullValue</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asynchronously run aktualizr indefinitely until Shutdown is called. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">custom_hwinfo</td><td>if not empty will be sent to the backend instead of <code>lshw</code> output </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Empty std::future object</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_s_q_l_exception.html">SQLException</a></td><td></td></tr>
    <tr><td class="paramname">boost::filesystem::filesystem_error</td><td></td></tr>
    <tr><td class="paramname">std::system_error</td><td>(failure to lock a mutex) </td></tr>
    <tr><td class="paramname">std::bad_alloc</td><td></td></tr>
    <tr><td class="paramname">std::runtime_error</td><td>(curl, SQL, filesystem, and json parsing failures; database inconsistency with pending updates; error getting metadata from database or filesystem) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00075">75</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="ab65d988c6d69e4c28e24c36ab07f2ad6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab65d988c6d69e4c28e24c36ab07f2ad6">&#9670;&nbsp;</a></span>SendDeviceData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::future&lt; void &gt; Aktualizr::SendDeviceData </td>
          <td>(</td>
          <td class="paramtype">const Json::Value &amp;&#160;</td>
          <td class="paramname"><em>custom_hwinfo</em> = <code>Json::nullValue</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send local device data to the server. </p>
<p>This includes network status, installed packages, hardware etc. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">custom_hwinfo</td><td>if not empty will be sent to the backend instead of <code>lshw</code> output </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Empty std::future object</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_s_q_l_exception.html">SQLException</a></td><td></td></tr>
    <tr><td class="paramname">boost::filesystem::filesystem_error</td><td></td></tr>
    <tr><td class="paramname">std::bad_alloc</td><td></td></tr>
    <tr><td class="paramname">std::runtime_error</td><td>(curl, filesystem, and json parsing failures) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00142">142</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="ac8dc8bd2e77fc70241f137e000a52625"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8dc8bd2e77fc70241f137e000a52625">&#9670;&nbsp;</a></span>SendManifest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::future&lt; bool &gt; Aktualizr::SendManifest </td>
          <td>(</td>
          <td class="paramtype">const Json::Value &amp;&#160;</td>
          <td class="paramname"><em>custom</em> = <code>Json::nullValue</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send installation report to the backend. </p>
<dl class="section note"><dt>Note</dt><dd>The device manifest is also sent as a part of CheckUpdates and SendDeviceData calls, as well as after a reboot if it was initiated by <a class="el" href="class_aktualizr.html" title="This class provides the main APIs necessary for launching and controlling libaktualizr.">Aktualizr</a> as a part of an installation process. All these manifests will not include the custom data provided in this call.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">custom</td><td>Project-specific data to put in the custom field of <a class="el" href="namespace_uptane.html" title="Base data types that are used in The Update Framework (TUF), part of Uptane.">Uptane</a> manifest </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::future object with manifest update result (true on success).</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_s_q_l_exception.html">SQLException</a></td><td></td></tr>
    <tr><td class="paramname">std::runtime_error</td><td>(curl failures; database inconsistency with pending updates) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00167">167</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="a52f213f16bc7526be40498772c320024"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52f213f16bc7526be40498772c320024">&#9670;&nbsp;</a></span>SetInstallationRawReport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Aktualizr::SetInstallationRawReport </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>custom_raw_report</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SetInstallationRawReport allows setting a custom raw report field in the device installation result. </p>
<dl class="section note"><dt>Note</dt><dd>An invocation of this method will have effect only after call of <a class="el" href="class_aktualizr.html#a3bad025e8c846f7e46949141c6097c67" title="Install targets.">Aktualizr::Install</a> and before calling <a class="el" href="class_aktualizr.html#ac8dc8bd2e77fc70241f137e000a52625" title="Send installation report to the backend.">Aktualizr::SendManifest</a> member function. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">custom_raw_report</td><td>is intended to replace a default value in the device installation report. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the custom raw report was successfully applied to the device installation result. If there is no installation report in the storage the function will always return false.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_s_q_l_exception.html">SQLException</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00163">163</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="a22e051b83a4d0dc2ac9b8e0cf730aca6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22e051b83a4d0dc2ac9b8e0cf730aca6">&#9670;&nbsp;</a></span>SetSecondaryData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Aktualizr::SetSecondaryData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_uptane_1_1_ecu_serial.html">Uptane::EcuSerial</a> &amp;&#160;</td>
          <td class="paramname"><em>ecu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store some free-form data to be associated with a particular Secondary, to be retrieved later through <code>GetSecondaries</code> </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_s_q_l_exception.html">SQLException</a></td><td></td></tr>
    <tr><td class="paramname">std::runtime_error</td><td>(SQL failure) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00107">107</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="ae710e3876c6144a4efe1a5500958987e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae710e3876c6144a4efe1a5500958987e">&#9670;&nbsp;</a></span>SetSignalHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::signals2::connection Aktualizr::SetSignalHandler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_sig_handler.html">SigHandler</a> &amp;&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provide a function to receive event notifications. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>a function that can receive event objects. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a signal connection object, which can be disconnected if desired. </dd></dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00192">192</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="ab244f4c923e07387022f21e97aa3c080"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab244f4c923e07387022f21e97aa3c080">&#9670;&nbsp;</a></span>Shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Aktualizr::Shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shuts down currently running <code><a class="el" href="class_aktualizr.html#abbc8798c27aa03b6c474c711d398fe33" title="Asynchronously run aktualizr indefinitely until Shutdown is called.">RunForever()</a></code> method. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::system_error</td><td>(failure to lock a mutex) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00095">95</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<a id="a77aa070899448a7589c5e66befc41d6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77aa070899448a7589c5e66befc41d6a">&#9670;&nbsp;</a></span>UptaneCycle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Aktualizr::UptaneCycle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Synchronously run an <a class="el" href="namespace_uptane.html" title="Base data types that are used in The Update Framework (TUF), part of Uptane.">Uptane</a> cycle: check for updates, download any new targets, install them, and send a manifest back to the server. </p>
<dl class="section return"><dt>Returns</dt><dd><code>false</code>, if the restart is required to continue, <code>true</code> otherwise</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_s_q_l_exception.html">SQLException</a></td><td></td></tr>
    <tr><td class="paramname">boost::filesystem::filesystem_error</td><td></td></tr>
    <tr><td class="paramname">std::system_error</td><td>(failure to lock a mutex) </td></tr>
    <tr><td class="paramname">std::bad_alloc</td><td></td></tr>
    <tr><td class="paramname">std::runtime_error</td><td>(curl, SQL, filesystem, and json parsing failures; database inconsistency with pending updates; error getting metadata from database or filesystem) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aktualizr_8cc_source.html#l00038">38</a> of file <a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/libaktualizr/<a class="el" href="aktualizr_8h_source.html">aktualizr.h</a></li>
<li>src/libaktualizr/primary/<a class="el" href="aktualizr_8cc_source.html">aktualizr.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
